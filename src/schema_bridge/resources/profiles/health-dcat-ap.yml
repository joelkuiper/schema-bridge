name: health-dcat-ap
description: Health-oriented DCAT-AP resource export with rich access and cohort metadata
fetch:
  graphql: graphql/health_dcat_ap_fallback.graphql
  root_key: Resources
export:
  select: health_dcat_ap_select.sparql
  construct: health_dcat_ap_construct.sparql
  outputs:
    - csv
    - json
    - jsonld
    - ttl
mapping:
  entity_name: Resource
  subject_path: resource
  id_field: id
  drop_nested: true
  iri_fields:
    - website
  field_paths:
    leadOrganisationAcronym:
      - leadOrganisation.acronym
      - publisher.name
    publisherWebsite: publisher.website
    typeName: type.name
    collectionTypeName: collectionType.name
    populationAgeGroupCodes: populationAgeGroups[].code
    populationAgeGroupParentCodes: populationAgeGroups[].parent.code
    countryNames: countries[].name
    regionNames: regions[].name
    designName: design.name
    designDefinition: design.definition
    designPaperTitle: designPaper.title
    designPaperDoi: designPaper.doi
    inclusionCriteriaCodes: inclusionCriteria[].code
    inclusionCriteriaParentCodes: inclusionCriteria[].parent.code
    dataAccessConditionCodes: dataAccessConditions[].code
    dataAccessConditionUris: dataAccessConditions[].ontologyTermURI
    dataAccessConditionDefinitions: dataAccessConditions[].definition
    dataUseConditionCodes: dataUseConditions[].code
    dataUseConditionUris: dataUseConditions[].ontologyTermURI
    dataUseConditionDefinitions: dataUseConditions[].definition
  concept_fields:
    dataAccessConditions:
      path: dataAccessConditions[]
      predicate: accessRightsConcept
      uri: ontologyTermURI
      code: code
      label: name
      lang: en
    dataUseConditions:
      path: dataUseConditions[]
      predicate: policyConcept
      uri: ontologyTermURI
      code: code
      label: name
      lang: en
