TODO:
- The prompt context now always takes the whole conversation, which makes no sense (introduce a proper "context" tags and their enrichment + history up until that point)
- Better UI for the different kinds of replies
- Remove replies / user messages
- A lot of code clean up / refactoring
